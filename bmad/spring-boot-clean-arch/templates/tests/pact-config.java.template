package {{base_package}}.pact.config;

import au.com.dius.pact.consumer.MockServer;
import au.com.dius.pact.consumer.dsl.PactBuilder;
import au.com.dius.pact.core.model.V4Pact;
import org.springframework.context.annotation.Configuration;

/**
 * Pact configuration for contract testing.
 *
 * Configures Pact broker settings, consumer/provider names,
 * and contract publishing options.
 *
 * @author {{author}}
 * @version 1.0
 */
@Configuration
public class PactConfig {

    /**
     * Consumer name for Pact contracts.
     */
    public static final String CONSUMER_NAME = "{{consumer_name}}";

    /**
     * Provider name for Pact contracts.
     */
    public static final String PROVIDER_NAME = "{{provider_name}}";

    /**
     * Pact broker URL (if using Pact Broker for sharing contracts).
     * Set via environment variable: PACT_BROKER_URL
     */
    public static final String PACT_BROKER_URL = System.getenv()
            .getOrDefault("PACT_BROKER_URL", "http://localhost:9292");

    /**
     * Pact broker authentication token (if required).
     * Set via environment variable: PACT_BROKER_TOKEN
     */
    public static final String PACT_BROKER_TOKEN = System.getenv()
            .get("PACT_BROKER_TOKEN");

    /**
     * Whether to publish Pact files to broker after test execution.
     * Set via environment variable: PACT_PUBLISH=true
     */
    public static final boolean PUBLISH_PACTS = Boolean.parseBoolean(
            System.getenv().getOrDefault("PACT_PUBLISH", "false")
    );

    /**
     * Git branch or version tag for Pact publishing.
     * Set via environment variable: PACT_CONSUMER_VERSION
     */
    public static final String CONSUMER_VERSION = System.getenv()
            .getOrDefault("PACT_CONSUMER_VERSION", "1.0.0-SNAPSHOT");

    /**
     * Environment tag for Pact contracts (dev, staging, prod).
     * Set via environment variable: PACT_CONSUMER_TAG
     */
    public static final String CONSUMER_TAG = System.getenv()
            .getOrDefault("PACT_CONSUMER_TAG", "dev");
}
