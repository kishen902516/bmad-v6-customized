---
name: Add Entity
about: Add a new domain entity following Clean Architecture
title: 'Add {{entity_name}} entity'
labels: ['type:entity', 'layer:domain', 'tdd', 'status:todo']
assignees: ''
---

## Entity Description

**Entity Name:** {{entity_name}}

**Purpose:** {{entity_purpose}}

**Layer:** Domain ({{base_package}}.domain.{{entity_name}})

## Requirements

### Domain Entity
- [ ] Create pure domain entity (no framework annotations)
- [ ] Add business logic methods
- [ ] Implement equals/hashCode based on ID
- [ ] Add comprehensive JavaDoc

### Value Objects
{{#each value_objects}}
- [ ] Create {{this}} value object (Record)
{{/each}}

### JPA Entity (Infrastructure)
- [ ] Create JPA entity with annotations
- [ ] Add necessary indexes
- [ ] Configure relationships

### Entity Mapper
- [ ] Create mapper (domain â†” JPA)
- [ ] Map all fields correctly
- [ ] Handle null cases

### Tests (TDD - Red-Green-Refactor)
- [ ] **RED**: Write failing entity unit tests
- [ ] **RED**: Write failing mapper tests
- [ ] **GREEN**: Implement entity to pass tests
- [ ] **GREEN**: Implement mapper to pass tests
- [ ] **REFACTOR**: Review and improve design
- [ ] Verify ArchUnit rules pass

## Acceptance Criteria

- [ ] Entity follows Clean Architecture (domain layer has no framework dependencies)
- [ ] All business rules enforced in entity
- [ ] Value objects are immutable (Records)
- [ ] JPA entity is separate from domain entity
- [ ] Mapper correctly converts between representations
- [ ] All tests pass (Unit tests: 90%+ coverage)
- [ ] ArchUnit validation passes
- [ ] Code reviewed and approved

## TDD Workflow

This issue will follow Test-Driven Development:

1. **ðŸ”´ RED Phase**: Write failing tests first
2. **ðŸŸ¢ GREEN Phase**: Implement minimal code to pass tests
3. **ðŸ”µ REFACTOR Phase**: Improve design while keeping tests green

## Related Components

- **Repository**: #{{repository_issue}} (if applicable)
- **Use Case**: #{{use_case_issue}} (if applicable)

## Branch

`feature/{{issue_number}}-add-{{entity_name_kebab}}-entity`

## Estimated Effort

{{estimated_hours}} hours

---

**Generated by BMAD Spring Boot Clean Architecture Generator**
