---
name: Add Use Case
about: Add a new application layer use case
title: 'Add {{use_case_name}} use case'
labels: ['type:use-case', 'layer:application', 'tdd', 'status:todo']
assignees: ''
---

## Use Case Description

**Use Case Name:** {{use_case_name}}

**Purpose:** {{use_case_purpose}}

**Layer:** Application ({{base_package}}.application.{{use_case_name}})

## Requirements

### Input DTO
- [ ] Create immutable input DTO (Record)
- [ ] Add Jakarta Bean Validation annotations
- [ ] Add factory methods

### Output DTO
- [ ] Create immutable output DTO (Record)
- [ ] Map from domain entity
- [ ] Add factory methods

### Use Case Interface
- [ ] Define use case contract
- [ ] Single responsibility method
- [ ] Clear input/output types

### Use Case Service Implementation
- [ ] Implement orchestration logic
- [ ] Call repository/domain services
- [ ] Handle transactions (@Transactional)
- [ ] Add logging
- [ ] Handle exceptions

### Tests (TDD - Red-Green-Refactor)
- [ ] **RED**: Write failing use case unit tests (Mockito)
- [ ] **RED**: Write failing DTO tests
- [ ] **GREEN**: Implement use case to pass tests
- [ ] **GREEN**: Ensure all mocks are verified
- [ ] **REFACTOR**: Extract common logic if needed
- [ ] Verify all tests pass

## Acceptance Criteria

- [ ] Use case follows Single Responsibility Principle
- [ ] Input validated with Jakarta Bean Validation
- [ ] Transactions properly configured
- [ ] All domain rules enforced
- [ ] Proper error handling and logging
- [ ] All tests pass (Unit tests with Mockito: 95%+ coverage)
- [ ] No direct framework dependencies in application layer
- [ ] Code reviewed and approved

## TDD Workflow

This issue will follow Test-Driven Development:

1. **ðŸ”´ RED Phase**: Write failing tests with mocked dependencies
2. **ðŸŸ¢ GREEN Phase**: Implement use case logic to pass tests
3. **ðŸ”µ REFACTOR Phase**: Improve orchestration and error handling

## Dependencies

- **Entity**: #{{entity_issue}} (must be completed first)
- **Repository**: #{{repository_issue}} (must be completed first)

## Related Components

- **Controller**: #{{controller_issue}} (next step)

## Branch

`feature/{{issue_number}}-add-{{use_case_name_kebab}}-use-case`

## Estimated Effort

{{estimated_hours}} hours

---

**Generated by BMAD Spring Boot Clean Architecture Generator**
